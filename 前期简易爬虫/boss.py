# -*- coding: UTF-8 -*-'''@Project ：发送邮件.py @File    ：boos直聘.py@IDE     ：PyCharm @Author  ：zhourx@Date    ：2021/6/1 16:06 '''from fake_useragent import UserAgentimport requestsfrom lxml import etreeimport jsonheaders = {    'User-Agent':UserAgent().chrome,    'cookie':'lastCity=101220100; __51cke__=; ___gtid=815845844; __fid=0641d7e6a608056464632f222417e3a6; __zp_seo_uuid__=09dc123c-c2fc-44a7-bef2-6007a351dca2; __g=-; __l=r=https%3A%2F%2Fcn.bing.com%2F&l=%2Fwww.zhipin.com%2Fhefei%2F&s=1&g=&s=3&friend_source=0; Hm_lvt_194df3105ad7148dcf2b98a91b5e727a=1622550938,1622551100,1622551185,1622551189; __c=1622534699; __a=18990697.1622534699..1622534699.22.1.22.22; Hm_lpvt_194df3105ad7148dcf2b98a91b5e727a=1622551191; __zp_stoken__=5879cfHcpcAZIG1d1AjpqBh4yMHpSGlUQfAVSEAI5A0cfTmMkGS5PVWYjNSQ7YhRWfmQSHWpBMEd7QzVBdjoRBUErQFARCQI3AVRmWi0UNQ4jS1xWVnwbMSFKbAdkJRgrTkcCIGxETmxYCgVh; __zp_sseed__=OLIa1UBd0JSyZgcCGZm2D9z5H/K7+OiJuoH5bhZfDd0=; __zp_sname__=44317ec1; __zp_sts__=1622551242951; __tins__21053225=%7B%22sid%22%3A%201622550663010%2C%20%22vd%22%3A%2014%2C%20%22expires%22%3A%201622553042958%7D; __51laig__=27'}home_url = 'https://www.zhipin.com/job_detail/?query=python&city=101220100&industry=&position='response = requests.get(url=home_url,headers=headers)# response.encoding = "utf-8"html = etree.HTML(response.text)li_list = html.xpath('//*[@id="main"]/div/div[3]/ul/li')for li in li_list:    job_name = li.xpath('.//span/a/@title')[0]    job_silary = li.xpath('.//span[@class="red"]/text()')[0]    job_area = li.xpath('.//span[@class="job-area"]/text()')[0]    job_limit= li.xpath('.//p/text()')[0]    commany_name = li.xpath('.//h3/a/text()')[0]    degree = li.xpath('.//p/text()')[1]    data = {        '工作岗位':job_name,        '工资':job_silary,        '工作地点':job_area,        '工作经验要求':job_limit,        '公司名称':commany_name,        '学历要求':degree    }    sava_data = json.dumps(data,ensure_ascii=False)    with open('boss直聘.csv','a',encoding='UTF-8') as fp:        fp.write(sava_data)        fp.write(('\n'))        print(job_name,'完成')